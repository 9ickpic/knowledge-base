# Саммари

[[Параметрический полиморфизм]] дает возможность писать обобщенные алгоритмы для составных типов, что значительно сокращает кол-во кода.

Иногда за это платят сложностью решения, но для типичных операций сложность растет не сильно.

В динамических языках для реализации обобщенных алгоритмов параметрический полиморфизм не нужен. Любая [[Коллекция]] может содержать любые типы данных в любой момент времени. Благодаря этому не требуется вводить дополнительные языковые конструкции и изучать новые концепции.

## Пример

В библиотеке [[lodash]] есть функция *[[.concat()]]*, которая объединяет переданные ей массивы.
```js title: js
_.concat([1], [2, 3, 1]) // [1, 2, 3, 1]
_.concat(['one'], ['two', 'three']) // ['one', 'two', 'three']
```
Эта функция объеденияет любые массивы, независимо от типа данных, содержащихся внутри.

Для разработчиков, которые писали только на динамических языках, такое поведение естественно, но в статических языках не всё так просто.
```js
const ages = [34, 18, 6, 60, 25]
const words = ['one', 'two', 'three']
```

В [[TypeScript]], при создании массива, задается тип элементов этого массива. Для первого - number, для второго - string. Добавление в массив элемента другого типа приведет к ошибке:
```js
// В массив чисел добавляется строка
ages.push('hello') // Error
```

Функции, обрабатывающие массивы, ожидают определенный тип:
```ts
const concat = (arr1: number[], arr2: number[]): number[] => {

	const res: number[] = []

	// ** *** **

	return result
}
```
Посмотрим на сигнатуру:

``concat():(arr1: number[], arr2: number[]): number[]

Здесь задуман массив чисел. Это значит, что для других типов данных функция работать не будет.

Что бы решить проблему, нужно реализовать подобную функцию для каждого типа, при том, что алгоритм внутри абсолютно идентичен.

В таких ситуациях и применяется [[Параметрический полиморфизм]].
Статически языкам приходится вводить в язык спец. конструкции, которые описывают подобные алгоритмы безотносительно типа параметра. Где-то это шаблоны ([[C++]]), где то дженерики ([[TypeScript]], [[Java]])
```ts
const concat = <T>(arr1: T[], arr2: T[]): T[] => {
	const result: T[] = []

	// ** *** **

	return result
}
```

#полиморфизм #javascript #learn